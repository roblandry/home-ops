---
conditional:
  mapping:
    ${SECRET_DOMAIN}: 10.0.10.127
    ${SECRET_DEV_DOMAIN}: 10.0.10.127
    internal: 10.0.10.1

blocking:
  loading:
    downloads:
      timeout: 30s
  denylists:
    ads:
      # PiHole default
      # - https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
      # OISD
      - https://big.oisd.nl/domainswild
  clientGroupsBlock:
    default:
      - ads

caching:
  minTime: 15m
  prefetching: true
  prefetchExpires: 2h

log:
  level: info

ports:
  dns: 53
  http: 4000

prometheus:
  enable: true
  path: /metrics

upstreams:
  groups:
    default:
      # - 1.1.1.1:53
      # - 9.9.9.9:53
      - tcp-tls:one.one.one.one
      - tcp-tls:dns.quad9.net
      # - https://cloudflare-dns.com/dns-query
      # - https://dns.quad9.net/dns-query

bootstrapDns:
  - upstream: tcp-tls:one.one.one.one
    ips:
      - 1.1.1.1
      - 1.0.0.1
  - upstream: tcp-tls:dns.quad9.net
    ips:
      - 9.9.9.9
      - 149.112.112.112
